define("page/pc",function(t,a,n){(function(){var a,e,i,o,r,c,p,l,d,u,s,g,h,f,b,m,D,_,v,w,y;a=t("jquery"),l=t("common"),u=t("navbar2"),t("qrCode/jquery.qrCode"),s=t("page/pc/app.tpl"),d=t("db"),r=null,p=null,o=null,i=null,e=null,f=null,d.getNotFoundApps=d.registerMethod({url:"/common/notfound",type:"get"}),b=function(){return r=a("#app-iframe"),p=a(".qr-code-wrapper"),o=a(".btn-prev"),i=a(".btn-next"),e=a("#app-list"),pageData.displayName=pageData.name.replace("{{count}}",pageData.viewcount),u.init(),_(),v(),y(),D(),g()},_=function(){var t,a,n,e,i,o;for(n=location.search,t=location.hash,e=n.replace(/\?/gi,"").split("&"),n=[],i=0,o=e.length;o>i;i++)a=e[i],a&&n.push(a);return n.push("mobile=1"),f=""+location.origin+location.pathname+"?"+n.join("&")+t,pageData.app_url&&(f=""+pageData.app_url+"?"+n.join("&")+t),pageData.domain_url&&-1!==location.href.indexOf(pageData.org_domain)&&(f=""+pageData.domain_url+"?"+n.join("&")+t),r.attr("src",f)},v=function(){return p.qrcode({text:pageData.app_url||location.href,width:p.width(),height:p.height()})},m=function(t){var n,e,i,o,r,c,p;for(n=a(".ad-container"),i=n.find("a"),e=n.find("img"),p=[],r=0,c=t.length;c>r;r++)o=t[r],n.css("background-image","url('"+o.src+"')"),i.attr("href",o.link),p.push(i.attr("title",o.title));return p},g=function(){return o.on("click",function(){var t;return t={code:"PREV"},r[0].contentWindow.postMessage(JSON.stringify(t),"*")}),i.on("click",function(){var t;return t={code:"NEXT"},r[0].contentWindow.postMessage(JSON.stringify(t),"*")})},w=!1,c=null,h=function(){return w?void 0:(w=!0,c.show(),d.getNotFoundApps({data:{total:6},success:function(t){return e.html(s({data:t.data.applist})),m(t.data.ads)},error:function(){},complete:function(){return w=!1,c.hide()}}))},D=function(){return c=a("#app-list-loading-mask"),h(),a(".btn-replace").on("click",h)},y=function(){var t;if(this.bdscript_loaded!==!0)return this.bdscript_loaded=!0,window._bd_share_config={common:{bdSnsKey:{},bdText:"",bdDesc:"",bdUrl:"",bdPic:"",bdMini:"2",bdMiniList:!1,bdPic:"",bdStyle:"1",bdSize:"24",onBeforeClick:function(t,a){return a.bdText=pageData.displayName,a.bdUrl=""+location.origin+"/m/"+pageData.shorturl,pageData.app_url&&(a.bdUrl=pageData.app_url),a.bdPic=null!=pageData.imgPath?pageData.imgPath:"http://oss2.rabbitpre.com/rp/static/widget/common/img/favicon-128_ba92819.png",a}},share:{}},t=document.createElement("script"),t.src="https://oss3.rabbitpre.com/bd_static/api/js/share.js?cdnversion="+~(-new Date/36e5),document.body.appendChild(t)},n.exports={init:b}}).call(this)});
;define("common",function(e,n,t){(function(){var n,o,r,i;n=e("async"),e("common/requestAnimationFrame"),i=""+location.protocol+"//"+location.host,o={origin:i},o.processImageUrl=function(e){return e},r=function(e){return function(n){var t;return t=new Image,t.onload=t.onerror=function(){return n()},t.crossOrigin="Anonymous",t.src=e}},o.preloadImages=function(e,t,o){var i;return n.parallel(function(){var n,t,o;for(o=[],n=0,t=e.length;t>n;n++)i=e[n],o.push(r(i));return o}(),function(){return"function"==typeof t?t():void 0},$.extend({},{timeout:5e3},o))},o.shouldAddCORS=function(e){return-1!==o.getLocation(e).host.indexOf("rabbitpre")},o.loadScript=function(e,n,t){var o;return o=document.createElement("script"),o.src=e,o.onload=n,o.onerror=t,document.head.appendChild(o)},o.bom={query:function(e){var n;return n=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)")),n?decodeURIComponent(n[2]):""},getHash:function(e){var n;return n=window.location.hash.match(new RegExp("(#|&)"+e+"=([^&]*)(&|$)")),n?decodeURIComponent(n[2]):""},getAllHash:function(){var e,n,t,o,r,i,c,u;if(r={},t=window.location.hash,!t.length)return r;if(o=t.slice(1,t.length),!o)return r;for(o=o.split("&&"),e=c=0,u=o.length;u>c;e=++c)n=o[e],i=n.split("="),i.length<2?r[e]=i[0]:r[i[0]]=i[1];return r}},o.getLocation=function(e){var n;return n=document.createElement("a"),n.href=e,n},o.str={trim:function(e){return e.replace(/^\s+|\s+$/g,"")},joinUrl:function(e,n){var t,o,r;o=[];for(t in n)r=n[t],o.push(""+t+"="+encodeURIComponent(r));return""+e+"?"+o.join("&")}},o.cookie={addCookie:function(e,n,t){var o,r;return o=""+e+"="+escape(n),null!=t&&t>0&&(r=new Date,r.setTime(r.getTime+3600*t*1e3),o=""+o+"; expire="+r.toGMTString()),document.cookie=o},getCookie:function(e){var n,t,o,r,i,c;for(r=document.cookie,t=r.split("; "),i=0,c=t.length;c>i;i++)if(o=t[i],n=o.split("="),n[0]===e)return n[1];return""},deleteCookie:function(e){var n;return n=new Date,n.setTime(n.getTime()-1e4),document.cookie=""+e+"=v; expire="+n.toGMTString()}},o.nm={set:function(e,n,t){var o,r,i,c,u,a;if(e){if(!n)return n;for(i=e.split("."),o=i.pop(),c=n,u=0,a=i.length;a>u;u++)r=i[u],c[r]||(c[r]={}),c=c[r];return c[o]=t,t}},get:function(e,n){var t,o,r,i,c;if(e){if(!n)return n;for(o=e.split("."),r=n,i=0,c=o.length;c>i;i++)if(t=o[i],r=r[t],!r)return r;return r}}},o.b64DecodeUnicode=function(e){return decodeURIComponent(atob(e||"").split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},o.getELKID=function(){var e;return e=localStorage.getItem("elk-id"),e||(e=Math.random().toString(36).slice(2)+(new Date).getTime().toString(36),localStorage.setItem("elk-id",e)),e},o.getQuery=function(e){var n;return n=window.location.hash.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)")),n?decodeURIComponent(n[2]):""},o.formatDate=function(e){var n,t,o,r,i,c,u;return r=new Date(e),o=r.getFullYear()+"-",t=(r.getMonth()+1<10?"0"+r.getMonth()+1:r.getMonth()+1)+"-",n=r.getDate()+" ",i=r.getHours()+":",c=r.getMinutes()+":",u=r.getSeconds(),o+t+n+i+c+u},t.exports=o}).call(this)});
;define("navbar2",function(t,e,n){(function(){var e,i,s,a,o,r,d,l,c,u,g,p;i=t("db"),e=t("jquery"),o=t("dialog/login"),s=t("dialog"),c=t("stat"),r=t("messager/msgAlert"),d=t("navbar3/msgList"),a=t("killerwhalesso"),i.getUser=i.registerMethod({url:"/user/info",dataType:"json"}),i.getPupupMsg=i.registerMethod({type:"GET",url:"/app/getPupupMsg"}),i.getMessageList=i.registerMethod({type:"GET",url:"/app/getMessageList"}),i.getDynamicList=i.registerMethod({type:"GET",url:"/app/getDynamicList"}),i.readFormMsg=i.registerMethod({type:"GET",url:"/app/readFormMsg"}),i.getMsgUpdate=i.registerMethod({url:"/app/getMsgUpdate",dataType:"json"}),g=null,u=null,p=null,l={userData:null,organizeData:null,logined:!1,userInit:function(){},init:function(t){var e,n=this;return null==t&&(t={}),c.init(),this.bindEvents(),this.action=null!=(e=t.action)?e:function(){return n.initUser()},p=this,setTimeout(function(){return p.getMsgUpdate()},3e3)},login:function(t){var e=this;return this.loginBox=new o({action:function(){return e.action(),e.loginBox.hide(),t&&t()}})},initUser:function(){var t,n,s=this;return t=e(".j-navbar"),n=t.find(".j-user-menu"),i.getUser({complete:function(e){var i;return null==e&&(e={}),i=e.data,g=null!=i?i.userId:void 0,u=null!=i?i.userHid:void 0,n.find(".active").removeClass("active"),(null!=i?i.userId:void 0)?("orp"===i.userFrom&&t.find(".j-menu-old").removeClass("hide"),l.userData=i,n.find(".j-user-name").html(i.userName),t.find(".message").addClass("active"),n.find(".dropdown").addClass("active"),l.userInit(i),l.logined=!0,l.initOrganize(),s.getPupupMsg()):void n.find(".j-nologin").addClass("active")}})},initOrganize:function(){var t=this;return e.ajax({method:"GET",url:"/org/allorgs?isAjax=true",dataType:"json",success:function(e){return e.data.length>0?(t.organizeData=e.data,window.account_data&&(window.account_data.multi_organize=e.data),t.initUserOrganize()):void 0},fail:function(t){return console.log(t)}})},initUserOrganize:function(){var t,n,i,s,a,o,r,d,l,c;for(t=e(".j-navbar .menu-organize"),n=t.find(".organize-list"),c=this.organizeData,d=0,l=c.length;l>d;d++)a=c[d],s="<div class='item' data-id='"+a.user_organize_organize+"'>"+a.org_name+"</div>",n.find(".list-wrap").append(s);return r=this.userData.user_organize,i=this.organizeData.filter(function(t){return t.user_organize_organize===r})[0],r&&i?(o=i.org_name,n.find(".list-wrap .item[data-id='"+r+"']").addClass("active")):(o="个人身份",n.find(".list-wrap .item").eq(0).addClass("active"),t.find(".go-organize").hide()),t.show().find(".cur-organize").text(o),n.find(".list-wrap .item").one("click",this.changeUserOrganize),t.find(".cur-organize-wrap").on("mouseover",function(){return n.show()}).on("mouseleave",function(){return n.hide()})},changeUserOrganize:function(){var t,n;return t=e(this),n=t.data().id||"",e.ajax({method:"POST",url:"/org/changeorg",data:{orgid:n,isAjax:!0},success:function(){return window.location.reload(!0)},fail:function(t){return console.log(t)}})},getPupupMsg:function(){var t;if(t=0,-1!==window.location.href.indexOf("store"))t=1;else if(-1!==window.location.href.indexOf("profile")&&""===window.location.hash)t=2;else{if(-1===window.location.href.indexOf("profile")||-1===window.location.hash.indexOf("tab=alltemplate"))return;t=3}return i.getPupupMsg({data:{popupPage:t},complete:function(t){return t&&t.data&&t.data.imgFileUrl&&t.data.redirectUrl?new r({imgUrl:t.data.imgFileUrl,redirectUrl:t.data.redirectUrl,user:g,rpUser:u,messageId:t.data.messageId}):void 0}})},getMsgUpdate:function(){return i.getMsgUpdate({complete:function(t){var n,i;return t&&t.data&&(i=t.data,i.appFormCount>0||i.videoFinishCount>0?(n=i.appFormCount+i.videoFinishCount,e(".msg-btn-num").html(n),e(".msg-btn-num").show()):(i.systemMessage||i.videoStatusFlag)&&e(".msg-btn-dot").show(),i.videoStatusFlag&&"none"===e(".msg-dropdown").css("display"))?e(".dynamic-dot").show():void 0}})},getDynamicList:function(){return i.getDynamicList({data:{platform:0},complete:function(t){var n,i;return t&&t.data?(i=t.data,i.length?(n="",i.forEach(function(t){return n+="<div class='msg-dynamic-item'>										<div class='status'>											<span class='tit'>												"+t.title+"											</span>											<span class='tip'>												"+("wait"===t.rabbitAppStatus?"正在排队，前面还有"+t.count+"人":"")+"												"+("rendering"===t.rabbitAppStatus?"正在渲染，已完成"+t.progress+"%":"")+"											</span>										</div>										<div class='progress'>											<span class='circle circle-solid'>											</span>											<span class='line "+("wait"===t.rabbitAppStatus?"":"line-solid")+"'>											</span>											<span class='circle "+("wait"!==t.rabbitAppStatus?"circle-solid":"circle-void")+"'>											</span>											<span class='line "+("finished"===t.rabbitAppStatus?"ine-solid":"")+"'>											</span>											<span class='circle "+("finished"!==t.rabbitAppStatus?"circle-void":"circle-solid")+"'>											</span>										</div>										<div class='desc'>											<span>排队</span>											<span>渲染</span>											<span>完成</span>										</div>									</div>"}),e(".msg-box-dynamic").html(n)):(e(".msg-box-dynamic").html(),e(".no-msg-data").text("暂无动态").css("display","block"))):void 0}})},getMessageList:function(){return i.getMessageList({data:{pageNo:1,pageSize:5,fromPage:1,platform:0},complete:function(t){var n,s,a,o,r,d,l,c,u;return t&&t.data&&(d=t.data,a="",u=0,l=0,s=0,d.appFailCount&&(a+="<div class='msg-item msg-item-trigger' data-type='fail'>									<span class='msg-item-tit'>你有"+d.appFailCount+"个作品渲染失败</span>									<span class='msg-item-btn'>查看</span>								</div>",u++,l+=d.appFailCount),d.appFinishCount&&(a+="<div class='msg-item msg-item-trigger' data-type='success'>									<span class='msg-item-tit'>你有"+d.appFinishCount+"个作品渲染完成</span>									<span class='msg-item-btn'>查看</span>								</div>",u++,l+=d.appFinishCount),d.formCount&&(a+="<div class='msg-item msg-item-form'>									<span class='msg-item-tit'>新收到"+d.formCount+"个表单消息</span>								</div>",u++,s=d.formCount),d.message&&d.message.list&&d.message.list.length&&(o=d.message.list,r=o.length,c=r+u-5,c>0&&(n=r-c,o.splice(n,c)),o.forEach(function(t){return a+="<div class='msg-item' data-id='"+t.messageId+"' data-url='"+t.url+"'>										<span class='msg-item-tit'>"+t.title+"</span>									</div>"})),a?e(".msg-box-info").html(a):e(".no-msg-data").text("暂无未读消息").css("display","block")),s>0&&i.readFormMsg({complete:function(){}}),l>0?e(".msg-btn-num").html(l).show():e(".msg-btn-num").hide()}})},closeDropdown:function(){return e(".msg-tip").hasClass("active")||(e(".msg-tip").addClass("active"),e(".dynamic").removeClass("active"),e(".msg-box-info").show(),e(".msg-box-dynamic").hide()),e(".msg-dropdown").hide()},checkNum:function(t){var n,i;return n=e(".msg-btn-num").html(),n?(i=e(".msg-btn-num").html()-t,i>0?e(".msg-btn-num").html(i):"none"!==e(".dynamic-dot").css("display")?(e(".msg-btn-dot").show(),e(".msg-btn-num").hide()):e(".msg-btn-num").hide()):void 0},bindEvents:function(){var t,n,i;return i=this,t=e(".j-navbar"),n=t.find(".j-user-menu"),this.initUser(),t.on("click",".j-dropdown",function(){return window.location.href="/profile.html"}),t.on("click",".j-menu-old",function(t){var e;return t.stopPropagation(),e="http://prev.rabbitpre.com/create",window.open(e)}),t.on("click",".j-menu-account",function(t){var e,n;return t.stopPropagation(),n=l.userData,n&&n.userId?n.userOrganize||"赢销云"===n.third_app_name?window.open("http://ent.killerwhale.cn/"):n.user_organize?window.open("/account"):e=new s({headerHtml:"<div class='header'>操作确认</div>",content:"<div class='choose-page-desc'>您还不是兔展企业会员，是否立即升级？</div>",suggestionHtml:"<div class='btn-wrap'>								<a class='link-btn go-profile-btn j-dialog-close' target='_blank' href='/profile.html'>前往用户中心</a>								<a class='link-btn go-vip-btn j-dialog-close' target='_blank' href='/vip'>升级企业会员</a>							</div>",className:"choose-page-dialog"}):new o({mod:"login",action:function(){return window.location.reload()}})}),t.on("click",".j-menu-design",function(t){var e,n;return t.stopPropagation(),e="/bedesigner.html","D"===(null!=(n=l.userData)?n.userType:void 0)&&(e="/profile.html#tab=alltemplate"),window.location.href=e}),t.on("click",".j-menu-logout",function(t){return t.stopPropagation(),a.loginOut(function(){return e.ajax({url:"/user/logout",type:"POST",data:{noWaiting:!0},success:function(){return window.location.href="/"}})})}),t.on("click",".j-register",function(t){return t.stopPropagation(),this.loginBox=new o({mod:"register",action:function(){return window.location.reload()}})}),t.on("click",".j-login",function(t){return t.stopPropagation(),this.loginBox=new o({mod:"login",action:function(){return window.location.reload()}})}),t.on("click",".j-activity",function(){return c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:"rabbitpre_activity_click",userID:c.getELKID(),user:g})}),t.on("click",".msg-item",function(t){var n,i,s,a,o;return a=e(this),t.stopPropagation(),e(".msg-dropdown").hide(),a.hasClass("msg-item-form")?void 0:a.hasClass("msg-item-trigger")?(s=a.attr("data-type"),i="","fail"===s?i="web_notification_renderfail_click":"success"===s&&(i="web_notification_rendersucceed_click"),c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:i,userID:c.getELKID(),user_id:u,rp_user_id:g}),location.href="/profile.html?myvideo=on"):(o=a.attr("data-url"),n=a.attr("data-id"),c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:"web_notification_public_click",userID:c.getELKID(),user_id:u,rp_user_id:g,notice_id:n}),"null"!==o?location.href=o:new d({msgId:n,user:u,rpUser:g}))}),t.on("click",".msg-dropdown",function(t){return t.stopPropagation()}),t.on("click",".message",function(t){return t.stopPropagation(),t.target&&t.target.className&&"msg-dropdown"===t.target.className?void 0:("none"===e(".msg-dropdown").css("display")?("none"===e(".dynamic-dot").css("display")&&e(".msg-btn-dot").hide(),i.getMessageList(),e(".msg-dropdown").show()):(e(".no-msg-data").hide(),i.closeDropdown()),c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:"web_notification_click",userID:c.getELKID(),user_id:u,rp_user_id:g}))}),t.on("click",".msg-header span",function(t){var n,s,a;return t.stopPropagation(),a=e(this),a.hasClass("active")?void 0:(e(".no-msg-data").hide(),a.addClass("active"),a.siblings().removeClass("active"),s=a.index(),0===s?(e(".msg-more").css("display","block"),i.getMessageList()):(e(".msg-more").hide(),i.getDynamicList(),"none"!==e(".dynamic-dot").css("display")&&(e(".msg-btn-dot").hide(),e(".dynamic-dot").hide()),c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:"web_notification_feed_click",userID:c.getELKID(),user_id:u,rp_user_id:g})),n=e(".msg-box:eq("+s+")"),n.show(),n.siblings(".msg-box").hide())}),e(document).on("click",function(){return e(".no-msg-data").hide(),e(".msg-more").css("display","block"),i.closeDropdown()}),t.on("click",".msg-more",function(){return c.sendComponent("INTO","href","store",c.ACTION_UPD,{id:"web_notification_more_click",userID:c.getELKID(),user_id:u,rp_user_id:g}),new d({user:u,rpUser:g}),i.closeDropdown()}),window.onhashchange=i.getPupupMsg}},n.exports=l}).call(this)});
;define("qrCode/jquery.qrCode",function(e,r,t){var o=e("jquery");e("jquery/jquery.browser");var n=e("qrCode");!function(e){e.fn.qrcode=function(r){"string"==typeof r&&(r={text:r}),r=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},r);var t=function(){var e=new n(r.typeNumber,r.correctLevel);e.addData(r.text),e.make();var t=document.createElement("canvas");t.width=r.width,t.height=r.height;for(var o=t.getContext("2d"),a=r.width/e.getModuleCount(),d=r.height/e.getModuleCount(),u=0;u<e.getModuleCount();u++)for(var c=0;c<e.getModuleCount();c++){o.fillStyle=e.isDark(u,c)?r.foreground:r.background;var i=Math.ceil((c+1)*a)-Math.floor(c*a),h=Math.ceil((u+1)*a)-Math.floor(u*a);o.fillRect(Math.round(c*a),Math.round(u*d),i,h)}return t},o=function(){var t=new n(r.typeNumber,r.correctLevel);t.addData(r.text),t.make();for(var o=e("<table></table>").css("width",r.width+"px").css("height",r.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",r.background),a=r.width/t.getModuleCount(),d=r.height/t.getModuleCount(),u=0;u<t.getModuleCount();u++)for(var c=e("<tr></tr>").css("height",d+"px").appendTo(o),i=0;i<t.getModuleCount();i++)e("<td></td>").css("width",a+"px").css("background-color",t.isDark(u,i)?r.foreground:r.background).appendTo(c);return o};return this.each(function(){var n="canvas"==r.render;n&&e.browser.msie&&e.browser.versionNumber<9&&(n=!1);var a=n?t():o();e(a).appendTo(this)})}}(o),t.exports=o});
;define("page/pc/app.tpl",function(a,e,t){t.exports=function(a){a=a||{};for(var e=[],t=0,r=a.data.length;r>t;t++){var i=a.data[t];i.name&&e.push('<li class="app"> <a href="',i.shorturl?"http://www.rabbitpre.com/m/"+i.shorturl:"http://www.rabbitpre.com/app/render/"+i.id,'" target="_blank"> <div class="cover" style="background-image:url(',i.imgUrl||"http://file.rabbitpre.com/default.png",');"></div> <h3 class="name ellipse">',i.name.replace("{{count}}",i.viewcount||0),'</h3> <div class="desc">浏览量: ',i.viewcount||0,"</div> </a></li>")}return e.join("")}});
;define("db",function(e,r,t){(function(){var r,o;r=e("jquery"),o={},o.request=function(e){return null==e&&(e={}),e.data=e.data||{},e.data.isAjax=!0,r.ajax({type:e.type||"GET",url:e.url,data:e.data,dataType:"json",beforeSend:function(r){return"function"==typeof e.beforeSend?e.beforeSend(r):void 0},success:function(r){return r.errorcode?"function"==typeof e.error&&e.error(r):"function"==typeof e.success&&e.success(r),"function"==typeof e.complete?e.complete(r):void 0},error:function(r){return"function"==typeof e.error&&e.error({errorCode:r.status,xhr:r}),"function"==typeof e.complete?e.complete({errorCode:r.status,xhr:r}):void 0}})},o.registerMethod=function(e){return function(t){return o.request(r.extend({},e,t))}},t.exports=o}).call(this)});
;define("async",function(n,t,o){function e(n,t,o){t=t||function(){},o=o||{};for(var e,l=0,u=[],i=!1,r=0;r<n.length;r++)!function(r){n[r](function(c){l++,u[r]=c,o.onProgress&&o.onProgress(l/n.length),l>=n.length&&!i&&(e&&(clearTimeout(e),e=null),t.apply(null,u),i=!0)})}(r);o.timeout&&(e=setTimeout(function(){t.apply(null,u),i=!0},o.timeout))}o.exports={parallel:e}});
;define("common/requestAnimationFrame",function(){!function(){for(var n=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),a=window.setTimeout(function(){e(i+o)},o);return n=i+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}()});
;define("dialog/login",function(e,t,n){(function(){var t,o,r,i,s,a,c,u={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var o in t)u.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=e("dialog"),r=e("db"),o=e("common"),a=e("dialog/getpassword"),t=e("jquery"),s=e("eps"),c=function(e){function n(e){var t,o;null==e&&(e={}),this.jump_url=e.jump_url,this.action=e.action,o=window.location.href,"/"===window.location.pathname&&(o="/profile.html"),t="register"===e.mod?s.getHtml("user/reg",{redirect:encodeURIComponent(o)}):s.getHtml("user/login",{redirect:encodeURIComponent(o)}),e.className="dialog-login",e.content=t,n.__super__.constructor.call(this,e)}return l(n,e),n.prototype.initSession=function(e,n,o){var r=this;return t.ajax({url:"/user/syncsso",headers:{"x-jwt-token":e},dataType:"json",success:function(e){var i;return e=null!=(i=e.data)?i:e,t.ajax({url:e.url+"&callback=test",dataType:"jsonp",complete:function(){return r.jump_url?void(window.location.href=r.jump_url):("function"==typeof r.action&&r.action(e,n,o),r.hide())}})}})},n.prototype.bindEvents=function(){var e=this;return n.__super__.bindEvents.call(this),this.receiveMessage=function(t){var n,o;n=t.data;try{n=JSON.parse(n)}catch(r){o=r,n=n}"SESSION"===(null!=n?n.code:void 0)&&e.initSession(n.token,n.type,n),"FORGETPASSWORD"===(null!=n?n.code:void 0)&&e.hide()},window.addEventListener("message",this.receiveMessage,!1)},n.prototype.destroy=function(){return window.removeEventListener("message",this.receiveMessage,!1),n.__super__.destroy.call(this)},n}(i),n.exports=c}).call(this)});
;define("dialog",function(i,t,o){(function(){var t,n,s;t=i("jquery"),n=1e3,s=function(){function i(o){var s,e,l,d,h,c,r;return null==o&&(o={}),this===window?new i(o):(this.cmpId="DIALOG_"+n++,this.cls=null!=(e=o.cls)?e:"",this.content=null!=(l=o.content)?l:"",this.headerHtml=null!=(d=o.headerHtml)?d:"",this.loginRegHtml=null!=(h=o.loginRegHtml)?h:"",this.suggestionHtml=null!=(c=o.suggestionHtml)?c:"",this.loginAction=o.loginAction,this.closeable=null!=(r=o.closeable)?r:!0,s="<i class='icon icon-close'></i>",this.closeable===!1&&(s=""),this.$dom=t("					<div class='dialog-outer' id="+this.cmpId+">						<div class='dialog "+(o.className||"")+"'>							"+s+"							"+this.headerHtml+"							<div class='content'>								"+this.loginRegHtml+"								"+this.content+"								"+this.suggestionHtml+"							</div>						</div>					</div>"),this.$dom.appendTo(document.body),this.$dialog=this.$dom.find(".dialog"),""!==this.headerHtml&&(this.$btnLogin=this.$dialog.find(".btn-login"),this.$btnRegister=this.$dialog.find(".btn-register"),null!=o.mod&&"register"===o.mod?this.$btnRegister.addClass("active"):this.$btnLogin.addClass("active"),this.$dialog.css("marginTop",-this.$dialog.height/2+"px")),this.refreshLocation(),this.bindEvents(),this.onHide=o.onHide,this.onShow=o.onShow,this.onHideCb=o.onHideCb,o.onRender&&o.onRender.call(this),void(this.loginAction&&(this.$dialog.css("marginTop","auto"),this.loginAction())))}return i.prototype.show=function(){return this.$dom.fadeIn()},i.prototype.hide=function(i){var t=this;return this.$dom.fadeOut(function(){return t.onHideCb&&t.onHideCb(),t.destroy(),i?i():void 0}),null!=this.onHide?this.onHide():void 0},i.prototype.refreshLocation=function(){return this.loginAction?this.$dialog.css("marginTop","auto"):this.$dialog.css("marginTop",-this.$dialog.height()/2+"px")},i.prototype.bindEvents=function(){var i=this;return this.$dom.on("click",function(){return i.closeable!==!1?i.hide():void 0}),this.$dialog.on("click",function(i){return i.stopPropagation()}),this.$dialog.on("click",".icon-close",function(){return i.hide()}),this.$dialog.on("click",".j-dialog-close",function(){return i.hide()})},i.prototype.destroy=function(){return this.$dom.remove(),this.$dom=null,this.$dialog=null,this.onHide=null},i}(),o.exports=s}).call(this)});
;define("stat",function(t,e,n){(function(){var e,i,r;e=t("jquery"),i=window.location,r={START_TIME:new Date,SERVER:"http://tongji.szzbmy.com/tj.gif",ORIGIN:""+i.protocol+"//"+i.host,HREF:i.href,MAX_COUNT:1,queue:[],CLASS_INTO:"INTO",CLASS_DURATION:"DURATION",CLASS_RELOAD:"RELOAD",CLASS_CMP:"COMPONENT",CLASS_REQUEST:"REQUEST",ACTION_INIT:"INIT",ACTION_CLICK:"CLICK",ACTION_UPD:"UPDATE",inited:!0,calQueryStr:function(t){var e,n,i;e=[];for(n in t)i=t[n],e.push(""+encodeURIComponent(n)+"="+encodeURIComponent(null!=i?i:""));return e.join("&")},init:function(t){var e=this;return null==t&&(t={}),this.inited=!0,this.authid=t.authid,this.sendInto(),this.post(),setTimeout(function(){var t;return t=window.onbeforeunload,window.onbeforeunload=function(){var n;return n=void 0,null!=t&&(n=t()),n||(e.sendReload(),e.post()),n}},0)},getUser:function(){},getUserBrowser:function(){var t;return t=navigator.userAgent.toLowerCase(),/msie/i.test(t)&&!/opera/.test(t)?"IE":/firefox/i.test(t)?"Firefox":/chrome/i.test(t)&&/webkit/i.test(t)&&/mozilla/i.test(t)?"Chrome":/opera/i.test(t)?"Opera":!/webkit/i.test(t)||/chrome/i.test(t)&&/webkit/i.test(t)&&/mozilla/i.test(t)?"unKnow":"Safari"},getUniqueId:function(t){var e;if(1>t)return"";for(e="";e.length<t;)e+=Math.random().toString(36).substr(2);return e.substr(0,t)},checkQueue:function(){var t,e;return e=this.queue,t=e.length,t<this.MAX_COUNT?void 0:this.post()},post:function(){var t,e,n,i,r,o,s,u;for(r=this.queue,this.queue=[],u=[],o=0,s=r.length;s>o;o++)e=r[o],t=e.ajax,delete e.ajax,i=this.calQueryStr(e),n=""+this.SERVER+"?"+i,u.push(this.request(n,t));return u},request:function(t,n){var i;return n!==!0?(i=new Image,i.onload=function(){return e(i).remove()},void(i.src=t)):e.ajax({url:t,async:!1,timeout:1e3})},send:function(t,e,n,i){var r,o,s,u,a,h,l,d,c;if(null==i&&(i={}),this.inited===!0&&t){h=new Date,s=this.ORIGIN,u=this.HREF,l=u.replace(s,""),d=i.user,r=localStorage.getItem("RP_COOKIES_ID"),r||(r=this.getUniqueId(16),localStorage.setItem("RP_COOKIES_ID",r)),delete i.user,o={authid:this.authid,host:s,url:l,timestamp:+h,time:h.toISOString(),"class":t,name:e,action:n,cookies_id:r,browser_name:this.getUserBrowser(),user:d||this.getUser()};for(a in i)c=i[a],o[a]=c;return this.queue.push(o),this.checkQueue()}},getOthersAgent:function(t){return""},getUserAgent:function(){var t,e;return e=window.navigator.userAgent,t=this.getOthersAgent(e),e+=" "+t},sendInto:function(){return this.send(this.CLASS_INTO,this.getUserAgent(),null,{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,screen_width:window.screen.availWidth,screen_height:window.screen.availHeight})},sendReload:function(){var t,e;return e=this.START_TIME,t=new Date,this.send(this.CLASS_RELOAD,t.getTime()-e.getTime(),null,{ajax:!0})},sendRequest:function(t,e,n,i,r,o){var s;return null==n&&(n={}),null!=t?(s={params:JSON.stringify(n),duration:i,result:r,msg:o},this.send(this.CLASS_REQUEST,t,e,s)):void 0},sendComponent:function(t,n,i,r,o){return null==o&&(o={}),null!=t?(null==r&&(r=this.ACTION_INIT),o=e.extend({cmpclass:n,cmpvalue:i},o),this.send(this.CLASS_CMP,t,r,o)):void 0},getELKID:function(){var t;return t=localStorage.getItem("elk-id"),t||(t=Math.random().toString(36).slice(2)+(new Date).getTime().toString(36),localStorage.setItem("elk-id",t)),t}},n.exports=r}).call(this)});
;define("messager/msgAlert",function(t,n,r){(function(){var n,e,o,i,s,u,l,a,c,p=function(t,n){return function(){return t.apply(n,arguments)}},d={}.hasOwnProperty,_=function(t,n){function r(){this.constructor=t}for(var e in n)d.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};e=t("dialog"),n=t("jquery"),i=t("stat"),s=null,l=null,c=null,a=null,u=null,o=function(t){function r(t){null==t&&(t={}),this.onRender=p(this.onRender,this),t.onRender=this.onRender,t.className="msg-alert",s=t.imgUrl,l=t.redirectUrl,c=t.user,a=t.rpUser,u=t.messageId,t.content=this.getHtml(),r.__super__.constructor.call(this,t)}return _(r,t),r.prototype.getHtml=function(){var t;return t="<img src='"+s+"' data-url='"+l+"' data-id='"+u+"'>"},r.prototype.onRender=function(){},r.prototype.bindEvents=function(){return r.__super__.bindEvents.call(this),this.$dialog.on("click","img",function(t){var r,e,o;return t.stopPropagation(),o=n(this),e=o.attr("data-id"),r=o.attr("data-url"),i.sendComponent("INTO","href","store",i.ACTION_UPD,{id:"web_screennotice_link_click",userID:i.getELKID(),user_id:a,rp_user_id:c,notice_id:u}),window.location.href=r})},r}(e),r.exports=o}).call(this)});
;define("navbar3/msgList",function(t,i,e){(function(){var i,s,a,n,o,r,d,l,c,p,g,u,v=function(t,i){return function(){return t.apply(i,arguments)}},h={}.hasOwnProperty,m=function(t,i){function e(){this.constructor=t}for(var s in i)h.call(i,s)&&(t[s]=i[s]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t};n=t("dialog"),r=t("stat"),i=t("jquery"),a=t("db"),s=t("common"),a.getMessageList=a.registerMethod({type:"GET",url:"/app/getMessageList"}),p={pageNo:1,pageSize:10,fromePage:0,platform:0},d=!1,l=!1,c=null,u=null,g=null,o=function(t){function e(t){null==t&&(t={}),this.onRender=v(this.onRender,this),this.getMessageList=v(this.getMessageList,this),t.content=this.getHtml(),t.onRender=this.onRender,t.className="msg-list",c=t.msgId,u=t.user,g=t.rpUser,e.__super__.constructor.call(this,t)}return m(e,t),e.prototype.getHtml=function(){var t;return t="<div id='header'>消息中心</div>				<div id='msg-wrap'>					<div id='msg-list-data'>					</div>					<div id='no-data'>						没有可读消息					</div>					<div id='loading-wrap'>						<div class='loading' id='loading1'></div>						<div class='loading' id='loading2'></div>						<div class='loading' id='loading3'></div>					</div>				</div>"},e.prototype.getMessageList=function(){return i("#loading-wrap").show(),a.getMessageList({data:p,success:function(t){var e,a,n;return t&&t.data&&t.data.message?(n=t.data.message,a=n.list,a.length?(e="",a.forEach(function(t){return e+="<div class='item  "+(c===t.messageId?"active":"")+"' data-id='"+t.messageId+"'>							<div class='item-header'>								"+t.title+"								<span class='date'>"+s.formatDate(t.createTime)+"</span>								<span class='arrow'></span>							</div>							<div class='item-con'>								"+(t.pic?"<div class=img-container><img src="+t.pic+"></div>":"")+"								<div class='desc'>"+t.description.replace(/\n/g,"<br/>")+"</div>								"+(t.url?"<div><span data-url="+t.url+" class=msg-detail>查看详情</span></div>":"")+"							</div>						</div>"}),i("#msg-list-data").append(e),d=Math.ceil(n.totalCount/n.pageSize)<=n.pageNo):i("#no-data").show()):void 0},complete:function(){return l=!1,i("#loading-wrap").hide()}})},e.prototype.onRender=function(){return l?void 0:(l=!0,this.getMessageList())},e.prototype.bindEvents=function(){var t,s;return e.__super__.bindEvents.call(this),s=this,t=i("#msg-wrap"),t.on("scroll",function(t){var i,e;return t.stopPropagation(),e=this.scrollTop,i=this.scrollHeight,e>i-550&&!d&&!l?(++p.pageNo,l=!0,s.getMessageList()):void 0}),this.$dialog.on("click",".item",function(t){var e;return t.stopPropagation(),e=i(this),c=e.attr("data-id"),e.hasClass("active")?(e.removeClass("active"),e.addClass("switch")):e.hasClass("switch")?(e.removeClass("switch"),e.addClass("active")):(e.addClass("active"),e.siblings().removeClass("active"),e.siblings().removeClass("switch")),r.sendComponent("INTO","href","store",r.ACTION_UPD,{id:"web_notification_detail_preview",user_id:u,rp_user_id:g,notice_id:c})}),this.$dialog.on("click",".item-con",function(t){return t.stopPropagation()}),this.$dialog.on("click",".msg-detail",function(t){var e,s;return t.stopPropagation(),s=i(this),c=s.parent().parent().parent().attr("data-id"),e=s.attr("data-url"),r.sendComponent("INTO","href","store",r.ACTION_UPD,{id:"web_notification_detail_link",user_id:u,rp_user_id:g,notice_id:c}),window.location.href=e})},e.prototype.destroy=function(){return e.__super__.destroy.call(this)},e}(n),e.exports=o}).call(this)});
;define("killerwhalesso",function(t,r,e){(function(){var r,a,o,b,i,c,l,n,s,p,m,v=[].indexOf||function(t){for(var r=0,e=this.length;e>r;r++)if(r in this&&this[r]===t)return r;return-1},u=this;r=t("jquery"),c=window.KillerWhale.SSO,s="//"+location.host,p={master:["//www.rabbitpre.com"],beta:["//beta.rabbitpre.com"],test:["//dev.rabbitpre.com","//deva1.rabbitpre.com","//deva2.rabbitpre.com","//deva3.rabbitpre.com","//devv1.rabbitpre.com","//devv2.rabbitpre.com","//devv3.rabbitpre.com","//test.rabbitpre.com","//testa1.rabbitpre.com","//testa2.rabbitpre.com","//testa3.rabbitpre.com","//testv1.rabbitpre.com","//testv2.rabbitpre.com","//testv3.rabbitpre.com","//test1.rabbitpre.com","//test2.rabbitpre.com","//localhost:8090","//localhost:8080","//127.0.0.1:8080","//localhost:5000"]},m="master";for(l in p)if(n=p[l],v.call(n,s)>=0){m=l;break}b=new c(m),a=r.ajax,o=!0,i=[],r.ajax=function(t){var r,e,b;return null==t&&(t={}),t.force!==!0&&o===!0?(r=Array.prototype.slice.call(arguments,0),void i.push(r)):(e=null!=(b=t.url)?b:t,a.apply(u,arguments))},b.enableAjax=function(){var t,e,a;for(o=!1,e=0,a=i.length;a>e;e++)t=i[e],r.ajax.apply(r,t);return i=[]},e.exports=b}).call(this)});
;define("jquery/jquery.browser",function(e,r,o){var i=e("jquery");!function(e){"use strict";function r(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var r=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],i={},a={browser:r[5]||r[3]||r[1]||"",version:r[2]||r[4]||"0",versionNumber:r[4]||r[2]||"0",platform:o[0]||""};if(a.browser&&(i[a.browser]=!0,i.version=a.version,i.versionNumber=parseInt(a.versionNumber,10)),a.platform&&(i[a.platform]=!0),(i.android||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"])&&(i.mobile=!0),(i.cros||i.mac||i.linux||i.win)&&(i.desktop=!0),(i.chrome||i.opr||i.safari)&&(i.webkit=!0),i.rv||i.edge){var w="msie";a.browser=w,i[w]=!0}if(i.safari&&i.blackberry){var s="blackberry";a.browser=s,i[s]=!0}if(i.safari&&i.playbook){var n="playbook";a.browser=n,i[n]=!0}if(i.bb){var b="blackberry";a.browser=b,i[b]=!0}if(i.opr){var c="opera";a.browser=c,i[c]=!0}if(i.safari&&i.android){var d="android";a.browser=d,i[d]=!0}if(i.safari&&i.kindle){var l="kindle";a.browser=l,i[l]=!0}if(i.safari&&i.silk){var x="silk";a.browser=x,i[x]=!0}return i.name=a.browser,i.platform=a.platform,i}return window.jQBrowser=r(window.navigator.userAgent),window.jQBrowser.uaMatch=r,e&&(e.browser=window.jQBrowser),window.jQBrowser}(i),o.exports=i});
;define("qrCode",function(t,e,r){function n(t){this.mode=u.MODE_8BIT_BYTE,this.data=t}function o(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}function a(t,e){this.totalCount=t,this.dataCount=e}function s(){this.buffer=new Array,this.length=0}n.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},o.prototype={addData:function(t){var e=new n(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;40>t;t++){for(var e=a.getRSBlocks(t,this.errorCorrectLevel),r=new s,n=0,o=0;o<e.length;o++)n+=e[o].dataCount;for(var o=0;o<this.dataList.length;o++){var i=this.dataList[o];r.put(i.mode,4),r.put(i.getLength(),g.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=8*n)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;7>=r;r++)if(!(-1>=t+r||this.moduleCount<=t+r))for(var n=-1;7>=n;n++)-1>=e+n||this.moduleCount<=e+n||(this.modules[t+r][e+n]=r>=0&&6>=r&&(0==n||6==n)||n>=0&&6>=n&&(0==r||6==r)||r>=2&&4>=r&&n>=2&&4>=n?!0:!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;8>r;r++){this.makeImpl(!0,r);var n=g.getLostPoint(this);(0==r||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),o=1;this.make();for(var i=0;i<this.modules.length;i++)for(var a=i*o,s=0;s<this.modules[i].length;s++){var u=s*o,h=this.modules[i][s];h&&(n.beginFill(0,100),n.moveTo(u,a),n.lineTo(u+o,a),n.lineTo(u+o,a+o),n.lineTo(u,a+o),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=g.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],o=t[r];if(null==this.modules[n][o])for(var i=-2;2>=i;i++)for(var a=-2;2>=a;a++)this.modules[n+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a?!0:!1}},setupTypeNumber:function(t){for(var e=g.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var n=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;18>r;r++){var n=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=g.getBCHTypeInfo(r),o=0;15>o;o++){var i=!t&&1==(n>>o&1);6>o?this.modules[o][8]=i:8>o?this.modules[o+1][8]=i:this.modules[this.moduleCount-15+o][8]=i}for(var o=0;15>o;o++){var i=!t&&1==(n>>o&1);8>o?this.modules[8][this.moduleCount-o-1]=i:9>o?this.modules[8][15-o-1+1]=i:this.modules[8][15-o-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[n][a-s]){var u=!1;i<t.length&&(u=1==(t[i]>>>o&1));var h=g.getMask(e,n,a-s);h&&(u=!u),this.modules[n][a-s]=u,o--,-1==o&&(i++,o=7)}if(n+=r,0>n||this.moduleCount<=n){n-=r,r=-r;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(t,e,r){for(var n=a.getRSBlocks(t,e),i=new s,u=0;u<r.length;u++){var h=r[u];i.put(h.mode,4),i.put(h.getLength(),g.getLengthInBits(h.mode,t)),h.write(i)}for(var l=0,u=0;u<n.length;u++)l+=n[u].dataCount;if(i.getLengthInBits()>8*l)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*l+")");for(i.getLengthInBits()+4<=8*l&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;;){if(i.getLengthInBits()>=8*l)break;if(i.put(o.PAD0,8),i.getLengthInBits()>=8*l)break;i.put(o.PAD1,8)}return o.createBytes(i,n)},o.createBytes=function(t,e){for(var r=0,n=0,o=0,a=new Array(e.length),s=new Array(e.length),u=0;u<e.length;u++){var h=e[u].dataCount,l=e[u].totalCount-h;n=Math.max(n,h),o=Math.max(o,l),a[u]=new Array(h);for(var f=0;f<a[u].length;f++)a[u][f]=255&t.buffer[f+r];r+=h;var d=g.getErrorCorrectPolynomial(l),c=new i(a[u],d.getLength()-1),m=c.mod(d);s[u]=new Array(d.getLength()-1);for(var f=0;f<s[u].length;f++){var v=f+m.getLength()-s[u].length;s[u][f]=v>=0?m.get(v):0}}for(var E=0,f=0;f<e.length;f++)E+=e[f].totalCount;for(var T=new Array(E),B=0,f=0;n>f;f++)for(var u=0;u<e.length;u++)f<a[u].length&&(T[B++]=a[u][f]);for(var f=0;o>f;f++)for(var u=0;u<e.length;u++)f<s[u].length&&(T[B++]=s[u][f]);return T};for(var u={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},h={L:1,M:0,Q:3,H:2},l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;g.getBCHDigit(e)-g.getBCHDigit(g.G15)>=0;)e^=g.G15<<g.getBCHDigit(e)-g.getBCHDigit(g.G15);return(t<<10|e)^g.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;g.getBCHDigit(e)-g.getBCHDigit(g.G18)>=0;)e^=g.G18<<g.getBCHDigit(e)-g.getBCHDigit(g.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return g.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case l.PATTERN000:return(e+r)%2==0;case l.PATTERN001:return e%2==0;case l.PATTERN010:return r%3==0;case l.PATTERN011:return(e+r)%3==0;case l.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case l.PATTERN101:return e*r%2+e*r%3==0;case l.PATTERN110:return(e*r%2+e*r%3)%2==0;case l.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),r=0;t>r;r++)e=e.multiply(new i([1,f.gexp(r)],0));return e},getLengthInBits:function(t,e){if(e>=1&&10>e)switch(t){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:return 8;case u.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(27>e)switch(t){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(41>e))throw new Error("type:"+e);switch(t){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;e>n;n++)for(var o=0;e>o;o++){for(var i=0,a=t.isDark(n,o),s=-1;1>=s;s++)if(!(0>n+s||n+s>=e))for(var u=-1;1>=u;u++)0>o+u||o+u>=e||(0!=s||0!=u)&&a==t.isDark(n+s,o+u)&&i++;i>5&&(r+=3+i-5)}for(var n=0;e-1>n;n++)for(var o=0;e-1>o;o++){var h=0;t.isDark(n,o)&&h++,t.isDark(n+1,o)&&h++,t.isDark(n,o+1)&&h++,t.isDark(n+1,o+1)&&h++,(0==h||4==h)&&(r+=3)}for(var n=0;e>n;n++)for(var o=0;e-6>o;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(r+=40);for(var o=0;e>o;o++)for(var n=0;e-6>n;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);for(var l=0,o=0;e>o;o++)for(var n=0;e>n;n++)t.isDark(n,o)&&l++;var g=Math.abs(100*l/e/e-50)/5;return r+=10*g}},f={glog:function(t){if(1>t)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},d=0;8>d;d++)f.EXP_TABLE[d]=1<<d;for(var d=8;256>d;d++)f.EXP_TABLE[d]=f.EXP_TABLE[d-4]^f.EXP_TABLE[d-5]^f.EXP_TABLE[d-6]^f.EXP_TABLE[d-8];for(var d=0;255>d;d++)f.LOG_TABLE[f.EXP_TABLE[d]]=d;i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=f.gexp(f.glog(this.get(r))+f.glog(t.get(n)));return new i(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=f.glog(this.get(0))-f.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=f.gexp(f.glog(t.get(n))+e);return new i(r,0).mod(t)}},a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],a.getRSBlocks=function(t,e){var r=a.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,o=new Array,i=0;n>i;i++)for(var s=r[3*i+0],u=r[3*i+1],h=r[3*i+2],l=0;s>l;l++)o.push(new a(u,h));return o},a.getRsBlockTable=function(t,e){switch(e){case h.L:return a.RS_BLOCK_TABLE[4*(t-1)+0];case h.M:return a.RS_BLOCK_TABLE[4*(t-1)+1];case h.Q:return a.RS_BLOCK_TABLE[4*(t-1)+2];case h.H:return a.RS_BLOCK_TABLE[4*(t-1)+3];default:return void 0}},s.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;e>r;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},window.QRCode=o,window.QRErrorCorrectLevel=h,r.exports=o});
;define("dialog/getpassword",function(t,e,i){(function(){var e,n,o,s,r,a={}.hasOwnProperty,l=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};e=t("jquery"),n=t("common"),s=t("dialog"),o=t("db"),o.getEmail=o.registerMethod({type:"POST",url:"/mail/sendmailresetpwd"}),r=function(t){function i(t){null==t&&(t={}),this.owner=t.owner,t.content='<h1 class="getpassword-title">找回密码</h1>			<form class="login getpassword-form">				<p class="error-msgs"></p>				<input type="text" name="email" id="email" placeholder="邮箱" max-length="50"/>				<input type="submit" value="提交"/>			</form>			<div class="relogin-wrap"><p class="relogin">又想起密码,<a class="showlogin" href="javascript:void(0)" target="_blank">立即登录</a></p></div>',t.className="dialog-login",i.__super__.constructor.call(this,t)}return l(i,t),i.prototype.showLogin=function(){return new this.owner({mod:"login",isForget:!0})},i.prototype.bindEvents=function(){var t=this;return i.__super__.bindEvents.call(this),t=this,this.$dialog.on("click",".showlogin",function(){return t.showLogin(),t.hide()}),this.$dialog.on("submit",".login",function(e){return e.preventDefault(),t.next()}),this.$dialog.on("click",".resend-email",function(){var i;return i=e(this).attr("data-email"),t.sendEmail(i)})},i.prototype.next=function(){var t;return t=n.str.trim(e("#email").val()),""===t?void this.showErrors(["E-mail不能为空"]):this.sendEmail(t)},i.prototype.sendEmail=function(t){var e,i=this;return e=window.location.href,o.getEmail({data:{email:t,redirectUrl:e},success:function(){var e,n;return e='<h1 class="getpassword-title">找回密码</h1>					<div class="successicon"></div>					<div class="getpassword-form-next">						<div class="getpassword-inner">							<div class="line1">还差一步即可找回密码</div>							<div class="line2">已发送链接至：<span class="email-link">'+t+'</span></div>							<div class="small-font">请点击邮件中的链接完成找回密码!<br><br></div>						</div>						<input class="login-email" type="submit" value="立即进入邮箱"/>					</div>					<p class="suggestion">木有收到邮件怎么办？<br>1.重新发送<a class="resend-email-wait" data-email="'+t+'"   href="javascript:void(0)" target="_blank"><span class="resend-email-seconds">60</span>秒后重发</a></p>',i.$dialog.find(".content").html(e),n=59,i=i,i.interval=setInterval(function(){return 0===n||0===i.$dialog.find(".resend-email-seconds").length?(clearInterval(i.interval),void(0===n&&i.$dialog.find(".resend-email-wait").text("点此重新发一封").removeClass("resend-email-wait").addClass("resend-email"))):(i.$dialog.find(".resend-email-seconds").text(n),n--)},1e3),i.$dialog.on("click",".login-email",function(e){var i,o,s,r,a,l,c;if(e.preventDefault(),r="http://www.baidu.com",o=t.split("@")[1],i=["qq.com","163.com","126.com","sohu.com","sina.com","21cn.com","hotmail.com","yeah.net"],a=["https://mail.qq.com/","http://email.163.com/","http://www.126.com/","http://mail.sohu.com/","http://mail.sina.com.cn/","http://mail.21cn.com/w2/","https://login.live.com/","http://www.yeah.net/"],null!=o&&""!==o)for(n=l=0,c=i.length;c>l;n=++l)if(s=i[n],o===s){r=a[n];break}return location.href=r})},error:function(t){return i.showErrors(["验证失败: "+t.errormessage])}})},i.prototype.showErrors=function(t){return this.$dom.find(".error-msgs").html(t.join(", "))},i.prototype.destroy=function(){return i.__super__.destroy.call(this),this.owner=null},i}(s),i.exports=r}).call(this)});
;define("eps",function(n,t,e){(function(){var t,i,o,s,r,u,l,a;t=n("jquery"),a=n("eps/window"),l=n("eps/route"),u=n("eps/postmessage"),r=n("killerwhalesso"),o=n("eps/epsconfig"),s={},i={config:function(n){var t,e,i=this;null==n&&(n={});for(t in n)e=n[t],this[t]=e;return l.config({host:n.host,devkey:n.devkey}),u.onMessage(this.host,"SHOW",function(n){var t,e;return t=n.page,n=null!=(e=n.data)?e:{},i.show(t,n)}),u.onMessage(this.host,"SUCCESS",function(){return i.hideWin({action:"success"})}),u.onMessage(this.host,"CANCEL",function(){return i.hideWin({action:"cancel"})}),u.onMessage(this.host,"FORGETPASSWORD",function(){return i.show("user/forgetpass",{})}),u.onMessage(this.host,"LOGIN-REDIRECT",function(){return"/"===location.pathname?void(window.location.href="/profile.html"):window.location.reload()}),this.wins=[],this.PostMessage=u,this.initTicket(),this},initTicket:function(){return r.checkStatus(function(n,e){return null!=n&&(e=null),t.ajax({url:l.getPath("user/sync",{ticket:e}),dataType:"jsonp",force:!0,success:function(n){var e,i;return e=null!=(i=n.result)?i.token:void 0,null==e?void t.ajax({url:"/user/logout",dataType:"jsonp",force:!0,complete:function(){return r.enableAjax()}}):t.ajax({url:"/user/info",headers:{"x-jwt-token":e},force:!0,complete:function(){return r.enableAjax()}})}})})},hideWin:function(n){var t;return null==n&&(n={}),t=this.wins[this.wins.length-1],null!=t?(t.cbdata=n,t.hide()):void 0},onMessage:function(n,t,e){return u.onMessage(e,n,t),this},show:function(n,e,i){var o,s,r=this;return null==i&&(i={}),o=l.get(n),null==o?this:(s=new a(t.extend(!0,{width:640,height:477,content:this.getHtml(n,e,i),cls:"e-window-iframe",title:"兔展公共服务",onHide:function(){var n,t,e;return e=r.wins.indexOf(s),-1!==e?(n=s.$dom.find(".j-input-nomore"),t=n.prop("checked"),"function"==typeof i.onHide&&i.onHide(t,s.cbdata),r.wins.splice(e,1)):void 0}},o.cfg)),this.wins.push(s),this)},redirect:function(n,t){var e;return e=l.getPath(n,t),null==e?this:(window.location.href=e,this)},open:function(n,t){var e;return e=l.getPath(n,t),null==e?this:(window.open(e),this)},getHtml:function(n,t,e){var i,o;return null==e&&(e={}),o=l.getPath(n,t),null==o?"":(i="<iframe src='"+o+"' width='100%' height='100%' frameborder='0' scrolling='none'></iframe>",e.nomore===!0&&(i+="<div class='nomore'><input id='eps-window-nomore' class='j-input-nomore input-nomore' type='checkbox'></input><label class='input-nomore-label' for='eps-window-nomore'>不再提示</label></div>"),i)},on:function(n,t){var e,i,o;if("string"!=typeof n){for(e in n)o=n[e],this.on(e,o);return this}return i=s[n],null==i&&(i=[],s[n]=i),i.push(t),this},off:function(n,t){var e,i;return i=s[n],null==i?this:(e=i.indexOf(t),-1===e?this:(i.splice(e,1),this))},trigger:function(n,t){var e,i,o,r,u;if(null==t&&(t=[]),i=s[n],o=null,null==i)return o;for(r=0,u=i.length;u>r&&(e=i[r],o=e.apply(this,t),o!==!1);r++);return o}},i.config({host:o.HOST,devkey:o.DEV_KEY}),e.exports=i}).call(this)});
;define("eps/window",function(t,e,n){(function(){var e,o,i,r,s={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=t("jquery"),o=t("eps/panel"),r=999,i=function(t){function n(t){var e,o,i,r;e=null!=(o=t.cls)?o:"",t.cls=""+e+" e-window e-window-waiting",this.modal=null!=(i=t.modal)?i:!0,this.destoryOnHide=null!=(r=t.destoryOnHide)?r:!0,this.overflow=null,this.cbdata={},n.__super__.constructor.call(this,t)}return d(n,t),n.prototype.show=function(){return this.$mask.fadeIn("fast"),this.$dom.fadeIn("fast")},n.prototype.hide=function(){var t=this;return this.$dom.fadeOut("fast"),this.$mask.fadeOut("fast",function(){return null!=t.onHide&&t.onHide(),t.destoryOnHide!==!1?t.destory():void 0})},n.prototype.getHtml=function(){return n.__super__.getHtml.call(this)},n.prototype.initAutoSize=function(){var t=this;return setTimeout(function(){var n,o,i,r,s,d;return n=e(t.renderTo),o={},"auto"===t.width?(s=document.documentElement.clientWidth,d=t.$dom.width(),o["margin-left"]="-"+d/2+"px"):"fixed"!==t.width&&(s=document.documentElement.clientWidth,o["margin-left"]="-"+t.width/2+"px"),"auto"===t.height?(r=document.documentElement.clientHeight,i=t.$dom.height(),o["margin-top"]="-"+i/2+"px"):"fixed"!==t.height&&(r=document.documentElement.clientHeight,o["margin-top"]="-"+t.height/2+"px"),t.$dom.css(o),t.$dom.removeClass("e-window-waiting"),t.show()},0),this},n.prototype.onRender=function(){var t,o;return n.__super__.onRender.call(this),t=e(this.renderTo),this.modal===!0&&(this.$mask=e("<div class='e-window-mask' style='z-index: "+r++ +";'></div>").appendTo(t)),o={"z-index":r++},this.$dom.css(o),this.initAutoSize()},n.prototype.destory=function(){return this.$mask.remove(),n.__super__.destory.call(this)},n}(o),n.exports=i}).call(this)});
;define("eps/route",function(e,t,i){(function(){var t,a,s;t=e("jquery"),a={"user/sync":{path:"api/user/sync",dev:!0,cfg:{}},"user/safe":{path:"iframe/user/safe",dev:!0,cfg:{noHeader:!0,width:900,height:500,cls:"e-window-login"}},"user/login":{path:"iframe/user/login",dev:!0,cfg:{noHeader:!0,width:900,height:500,cls:"e-window-login"}},"user/reg":{path:"iframe/user/reg",dev:!0,cfg:{title:"用户注册"}},"user/updatepass":{path:"iframe.html?page=user/updatepass",cfg:{title:"修改密码"}},"user/forgetpass":{path:"iframe.html?page=user/forgetpass",cfg:{noHeader:!0,width:380,height:500,cls:"e-window-login"}},"user/bindphone":{path:"iframe.html?page=user/bindphone",cfg:{title:"绑定手机"}},"user/bindemail":{path:"iframe.html?page=user/bindemail",cfg:{title:"绑定邮箱"}},"user/bindwechat":{path:"iframe.html?page=user/bindwechat",cfg:{title:"<div class='e-panel-header-title-t1'>微信绑定</div><div class='e-panel-header-title-tips'>当前账号中保存着较多的作品和数据，为了账号的安全需要您完成以下信息：</div>",height:360}},"user/unbindemail":{path:"iframe.html?page=user/unbindemail",cfg:{title:"解绑邮箱"}},"user/updatephone":{path:"iframe.html?page=user/updatephone",cfg:{title:"更换手机"}},"user/safesetting":{path:"iframe.html?page=user/safesetting",cfg:{title:"<div class='e-panel-header-title-t1'>账户安全设置</div><div class='e-panel-header-title-tips'>当前账号中保存着较多的作品和数据，为了账号的安全需要您完成以下信息：</div>"}},"user/updateinfo":{path:"iframe.html?page=user/updateinfo",cfg:{title:"<div class='e-panel-header-title-t1'>账户信息完善</div><div class='e-panel-header-title-tips'>为了您的使用方便和账号安全，请完善以下信息</div>"}},"user/unbindwechat":{path:"iframe.html?page=user/unbindwechat",cfg:{title:"解绑微信"}},"user/unbindqq":{path:"iframe.html?page=user/unbindqq",cfg:{title:"解绑QQ"}}},s={config:function(e){var t,i;null==e&&(e={});for(t in e)i=e[t],this[t]=i;return this},get:function(e){var t;return t=a[e]},mergePath:function(e,t){var i,a,s,n,r,l,h,u;null==t&&(t={}),i=e.split("#"),l=i[0],a=i[1],i=l.split("?"),l=i[0],r=null!=(u=i[1])?u:"",i=r.split("&");for(s in t)h=t[s],null!=h&&i.push(""+s+"="+encodeURIComponent(h));return n=[l],i.length>0&&n.push("?"+i.join("&")),a&&n.push("#"+a),n.join("")},getPath:function(e,i){var a,s,n,r;return a=this.get(e),null==a?null:(s=null!=(r=a.path)?r:e,n={},a.dev===!0&&(n.devkey=this.devkey),n=t.extend({},i,n),s=this.mergePath(s,n),""+this.host+"/"+s)}},i.exports=s}).call(this)});
;define("eps/postmessage",function(n,t,e){(function(){var t,s,i;s=n("common"),t=n("jquery"),i={MAP:{},onMessage:function(n,t,e){var i;return i=s.nm.get(""+n+"."+t,this.MAP),null==i&&(i=[]),i.push(e),s.nm.set(""+n+"."+t,this.MAP,i),this},triggerMessage:function(n,t,e,i){var r,o,u,a;if(o=s.nm.get(""+n+"."+t,this.MAP,r),null==o)return this;for(u=0,a=o.length;a>u;u++)r=o[u],r.call(this,e,i);return this},sendIframe:function(n,t,e){return null!=n?(t=JSON.stringify(t),n.contentWindow.postMessage(t,e),this):void 0},send:function(n,t){return null==t&&(t="*"),n=JSON.stringify(n),window.postMessage(n,t),this},sendParent:function(n,t){return null==t&&(t="*"),null==window.parent?this:(n=JSON.stringify(n),window.parent.postMessage(n,t),this)},receive:function(n){var t,e,s,i;e=n.data,i=n.origin;try{e=JSON.parse(e)}catch(r){s=r,e=e}return t=e.code,this.triggerMessage(i,t,e,n),this.triggerMessage("*",t,e,n),this},reply:function(n,t){return t=JSON.stringify(t),n.source.postMessage(t,n.origin),this}},t(function(){var n;return n=function(n){return i.receive(n)},window.addEventListener("message",n,!1)}),e.exports=i}).call(this)});
;define("eps/epsconfig",function(t,e,r){(function(){var t,e,b,a,o,i,c=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};t={localhost:"//127.0.0.1:3000",test:"//testeps.rabbitpre.com",beta:"//betaeps.rabbitpre.com",master:"//eps.rabbitpre.com"},e={test:["//dev.rabbitpre.com","//deva1.rabbitpre.com","//deva2.rabbitpre.com","//deva3.rabbitpre.com","//devv1.rabbitpre.com","//devv2.rabbitpre.com","//devv3.rabbitpre.com","//test.rabbitpre.com","//testa1.rabbitpre.com","//testa2.rabbitpre.com","//testa3.rabbitpre.com","//testv1.rabbitpre.com","//testv2.rabbitpre.com","//testv3.rabbitpre.com","//test1.rabbitpre.com","//test2.rabbitpre.com","//test3.rabbitpre.com","//localhost:8090","//localhost:8080","//127.0.0.1:8080","//localhost:5000"],beta:["//beta.rabbitpre.com"],master:["//www.rabbitpre.com"]},o="//"+location.host,b="master";for(a in e)if(i=e[a],c.call(i,o)>=0){b=a;break}r.exports={HOST:window.location.protocol+t[b],DEV_KEY:"04350b4523f74103a534469155d49f4c"}}).call(this)});
;define("eps/panel",function(t,e,i){(function(){var e,n,h,o;e=t("jquery"),n=1,o=function(){return"E-CMP-"+n++},h=function(){function t(t){var e,i,n,h,s,d,l,r;this.id=null!=(e=t.id)?e:o(),this.title=null!=(i=t.title)?i:"panel",this.noHeader=null!=(n=t.noHeader)?n:!1,this.content=t.content,this.iconCls=t.iconCls,this.cls=null!=(h=t.cls)?h:"",this.closable=null!=(s=t.closable)?s:!0,this.width=null!=(d=t.width)?d:"fixed",this.height=null!=(l=t.height)?l:"fixed",this.renderTo=t.renderTo,this.autoRender=null!=(r=t.autoRender)?r:!0,this.onHide=t.onHide,this.autoRender===!0&&this.render()}return t.prototype.render=function(t){var i,n;return null==t&&(t=this.renderTo),null==t&&(t=e(document.body)),this.renderTo=t,n=this.getHtml(),i=e(n).attr({id:this.id}).appendTo(t),this.$dom=i,this.onRender(),this},t.prototype.show=function(){return this.$dom.show()},t.prototype.hide=function(){return this.$dom.hide(),null!=this.onHide?this.onHide():void 0},t.prototype.getHtml=function(){var t,e,i,n,h;return h="","auto"===this.width?h+="":"fixed"===this.width?h+="width: 100%;":this.width&&(h+="width: "+this.width+"px;"),"auto"===this.height?h+="":"fixed"===this.height?h+="height: 100%;":this.height&&(h+="height: "+this.height+"px;"),t=this.cls,this.noHeader===!0&&(t+=" e-panel-noheader"),e="",n="",this.closable===!0&&(n="<div class='j-e-panel-close e-panel-close'></div>"),this.noHeader!==!0&&(e="<div class='e-panel-header'>											<div class='e-panel-header-title'>												<span class='e-panel-header-title-text'>"+this.title+"</span>											</div>										</div>"),i="<div class='e-panel "+t+"' style='"+h+"'>							"+n+"							"+e+"							<div class='e-panel-body'>"+this.content+"</div>						</div>"},t.prototype.onRender=function(){var t=this;return this.$header=this.$dom.find(".j-e-panel-header"),this.$body=this.$dom.find(".j-e-panel-body"),this.$dom.on("click",".j-e-panel-close",function(){return t.hide()})},t.prototype.setBody=function(t){return this.$body.html(t)},t.prototype.destory=function(){return this.$dom.remove()},t}(),i.exports=h}).call(this)});